{"version":3,"sources":["templates.js","script.js","en.js"],"names":["window","gdprCookieNoticeLocales","gdprCookieNotice","config","namespace","pluginPrefix","templates","gdprCookies","Cookies","noConflict","modalLoaded","noticeLoaded","cookiesAccepted","categories","performance","push","analytics","marketing","defaultChecked","locale","timeout","domain","expiration","currentCookieSelection","getJSON","cookiesAcceptedEvent","CustomEvent","detail","deleteCookies","savedCookies","notAllEnabled","i","length","ii","remove","showNotice","document","documentElement","classList","acceptCookies","save","value","date","Date","necessary","getElementById","checked","set","expires","dispatchEvent","buildNotice","settingsButton","acceptButton","noticeHtml","localizeTemplate","body","insertAdjacentHTML","querySelectorAll","addEventListener","e","preventDefault","showModal","setTimeout","add","template","prefix","str","data","Object","key","replace","slice","buildModal","modalHtml","categoryList","querySelector","innerHTML","input","label","closeButton","statementButton","categoryTitles","saveButton","location","href","statement","this","parentNode","toggle","setModalEventListeners","implicit","_listener","winheight","docheight","scrollTop","trackLength","D","innerHeight","clientHeight","Math","max","scrollHeight","offsetHeight","pageYOffset","floor","removeEventListener","globalSettingsButton","en","description","settings","accept","always_on","cookie_essential_title","cookie_essential_desc","cookie_performance_title","cookie_performance_desc","cookie_analytics_title","cookie_analytics_desc","cookie_marketing_title","cookie_marketing_desc"],"mappings":"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","file":"script.js","sourcesContent":["//HEAD \nwindow[\"gdpr-cookie-notice-templates\"] = {};\n\nwindow[\"gdpr-cookie-notice-templates\"][\"bar.html\"] = \"<div class=\\\"gdpr-cookie-notice\\\">\\n\" +\n    \"  <p class=\\\"gdpr-cookie-notice-description\\\">{description}</p>\\n\" +\n    \"  <nav class=\\\"gdpr-cookie-notice-nav\\\">\\n\" +\n    \"    <a href=\\\"#\\\" class=\\\"gdpr-cookie-notice-nav-item gdpr-cookie-notice-nav-item-settings\\\">{settings}</a>\\n\" +\n    \"    <a href=\\\"#\\\" class=\\\"gdpr-cookie-notice-nav-item gdpr-cookie-notice-nav-item-accept gdpr-cookie-notice-nav-item-btn\\\">{accept}</a>\\n\" +\n    \"  </div>\\n\" +\n    \"</div>\\n\" +\n    \"\"; \n\nwindow[\"gdpr-cookie-notice-templates\"][\"category.html\"] = \"<li class=\\\"gdpr-cookie-notice-modal-cookie\\\">\\n\" +\n    \"  <div class=\\\"gdpr-cookie-notice-modal-cookie-row\\\">\\n\" +\n    \"    <h3 class=\\\"gdpr-cookie-notice-modal-cookie-title\\\">{title}</h3>\\n\" +\n    \"    <input type=\\\"checkbox\\\" name=\\\"gdpr-cookie-notice-{prefix}\\\" checked=\\\"{checked}\\\" id=\\\"gdpr-cookie-notice-{prefix}\\\" class=\\\"gdpr-cookie-notice-modal-cookie-input\\\">\\n\" +\n    \"    <label class=\\\"gdpr-cookie-notice-modal-cookie-input-switch\\\" for=\\\"gdpr-cookie-notice-{prefix}\\\"></label>\\n\" +\n    \"  </div>\\n\" +\n    \"  <p class=\\\"gdpr-cookie-notice-modal-cookie-info\\\">{desc}</p>\\n\" +\n    \"</li>\\n\" +\n    \"\"; \n\nwindow[\"gdpr-cookie-notice-templates\"][\"modal.html\"] = \"<div class=\\\"gdpr-cookie-notice-modal\\\">\\n\" +\n    \"  <div class=\\\"gdpr-cookie-notice-modal-content\\\">\\n\" +\n    \"    <div class=\\\"gdpr-cookie-notice-modal-header\\\">\\n\" +\n    \"      <h2 class=\\\"gdpr-cookie-notice-modal-title\\\">{settings}</h2>\\n\" +\n    \"      <button type=\\\"button\\\" class=\\\"gdpr-cookie-notice-modal-close\\\"></button>\\n\" +\n    \"    </div>\\n\" +\n    \"    <ul class=\\\"gdpr-cookie-notice-modal-cookies\\\"></ul>\\n\" +\n    \"    <div class=\\\"gdpr-cookie-notice-modal-footer\\\">\\n\" +\n    \"      <a href=\\\"#\\\" class=\\\"gdpr-cookie-notice-modal-footer-item gdpr-cookie-notice-modal-footer-item-statement\\\">{statement}</a>\\n\" +\n    \"      <a href=\\\"#\\\" class=\\\"gdpr-cookie-notice-modal-footer-item gdpr-cookie-notice-modal-footer-item-save gdpr-cookie-notice-modal-footer-item-btn\\\"><span>{save}</span></a>\\n\" +\n    \"    </div>\\n\" +\n    \"  </div>\\n\" +\n    \"</div>\\n\" +\n    \"\"; \n// END ","// Load locales\r\nvar gdprCookieNoticeLocales = {};\r\n\r\nfunction gdprCookieNotice(config) {\r\n  var namespace = 'gdprcookienotice';\r\n  var pluginPrefix = 'gdpr-cookie-notice';\r\n  var templates = window[pluginPrefix+'-templates'];\r\n  var gdprCookies = Cookies.noConflict();\r\n  var modalLoaded = false;\r\n  var noticeLoaded = false;\r\n  var cookiesAccepted = false;\r\n  var defaultChecked = false;\r\n  var categories = [];// ['performance', 'analytics', 'marketing'];\r\n  if(config.performance) {\r\n    categories.push('performance');\r\n  }\r\n  if(config.analytics) {\r\n    categories.push('analytics');\r\n  }\r\n  if(config.marketing) {\r\n    categories.push('marketing');\r\n  }\r\n  if(config.defaultChecked) {\r\n    defaultChecked = true;\r\n  }\r\n\r\n\r\n  // Default config options\r\n  if(!config.locale) config.locale = 'en';\r\n  if(!config.timeout) config.timeout = 500;\r\n  if(!config.domain) config.domain = null;\r\n  if(!config.expiration) config.expiration = 30;\r\n\r\n  // Get the users current cookie selection\r\n  var currentCookieSelection = getCookie();\r\n  var cookiesAcceptedEvent = new CustomEvent('gdprCookiesEnabled', {detail: currentCookieSelection});\r\n\r\n  // Show cookie bar if needed\r\n  if(!currentCookieSelection) {\r\n    showNotice();\r\n\r\n    // Accept cookies on page scroll\r\n    if(config.implicit) {\r\n      acceptOnScroll();\r\n    }\r\n  } else {\r\n    deleteCookies(currentCookieSelection);\r\n    document.dispatchEvent(cookiesAcceptedEvent);\r\n  }\r\n\r\n  // Get gdpr cookie notice stored value\r\n  function getCookie() {\r\n    return gdprCookies.getJSON(namespace);\r\n  }\r\n\r\n  // Delete cookies if needed\r\n  function deleteCookies(savedCookies) {\r\n    var notAllEnabled = false;\r\n    for (var i = 0; i < categories.length; i++) {\r\n      if(config[categories[i]] && !savedCookies[categories[i]]) {\r\n        for (var ii = 0; ii < config[categories[i]].length; ii++) {\r\n          gdprCookies.remove(config[categories[i]][ii]);\r\n          notAllEnabled = true;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Show the notice if not all categories are enabled\r\n    if(notAllEnabled) {\r\n      showNotice();\r\n    } else {\r\n      hideNotice();\r\n    }\r\n  }\r\n\r\n  // Hide cookie notice bar\r\n  function hideNotice() {\r\n    document.documentElement.classList.remove(pluginPrefix+'-loaded');\r\n  }\r\n\r\n  // Write gdpr cookie notice's cookies when user accepts cookies\r\n  function acceptCookies(save) {\r\n    var value = {\r\n      date: new Date(),\r\n      necessary: true,\r\n      performance: true,\r\n      analytics: true,\r\n      marketing: true\r\n    };\r\n\r\n    // If request was coming from the modal, check for the settings\r\n    if(save) {\r\n      for (var i = 0; i < categories.length; i++) {\r\n        value[categories[i]] = document.getElementById(pluginPrefix+'-cookie_'+categories[i]).checked;\r\n      }\r\n    }\r\n    gdprCookies.set(namespace, value, { expires: config.expiration, domain: config.domain });\r\n    deleteCookies(value);\r\n\r\n    // Load marketing scripts that only works when cookies are accepted\r\n    cookiesAcceptedEvent = new CustomEvent('gdprCookiesEnabled', {detail: value});\r\n    document.dispatchEvent(cookiesAcceptedEvent);\r\n\r\n  }\r\n\r\n  // Show the cookie bar\r\n  function buildNotice() {\r\n    if(noticeLoaded) {\r\n      return false;\r\n    }\r\n\r\n    var noticeHtml = localizeTemplate('bar.html');\r\n    document.body.insertAdjacentHTML('beforeend', noticeHtml);\r\n\r\n    // Load click functions\r\n    setNoticeEventListeners();\r\n\r\n    // Make sure its only loaded once\r\n    noticeLoaded = true;\r\n  }\r\n\r\n  // Show the cookie notice\r\n  function showNotice() {\r\n    buildNotice();\r\n\r\n    // Show the notice with a little timeout\r\n    setTimeout(function(){\r\n      document.documentElement.classList.add(pluginPrefix+'-loaded');\r\n    }, config.timeout);\r\n  }\r\n\r\n  // Localize templates\r\n  function localizeTemplate(template, prefix, defaultChecked) {\r\n    var str = templates[template];\r\n    var data = gdprCookieNoticeLocales[config.locale];\r\n\r\n    if(prefix) {\r\n      prefix = prefix+'_';\r\n    } else {\r\n      prefix = '';\r\n    }\r\n\r\n    if (typeof str === 'string' && (data instanceof Object)) {\r\n      for (var key in data) {\r\n        return str.replace(/({([^}]+)})/g, function(i) {\r\n          var key = i.replace(/{/, '').replace(/}/, '');\r\n\r\n          if(key == 'prefix') {\r\n            return prefix.slice(0, -1);\r\n          }\r\n\r\n          if(data[key]) {\r\n            return data[key];\r\n          } else if(data[prefix+key]) {\r\n            return data[prefix+key];\r\n          } else {\r\n            return i;\r\n          }\r\n        });\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Build modal window\r\n  function buildModal() {\r\n    if(modalLoaded) {\r\n      return false;\r\n    }\r\n\r\n    // Load modal template\r\n    var modalHtml = localizeTemplate('modal.html');\r\n\r\n    // Append modal into body\r\n    document.body.insertAdjacentHTML('beforeend', modalHtml);\r\n\r\n    // Get empty category list\r\n    var categoryList = document.querySelector('.'+pluginPrefix+'-modal-cookies');\r\n\r\n    //Load essential cookies\r\n    categoryList.innerHTML += localizeTemplate('category.html', 'cookie_essential');\r\n    var input = document.querySelector('.'+pluginPrefix+'-modal-cookie-input');\r\n    var label = document.querySelector('.'+pluginPrefix+'-modal-cookie-input-switch');\r\n    label.innerHTML = gdprCookieNoticeLocales[config.locale]['always_on'];\r\n    label.classList.add(pluginPrefix+'-modal-cookie-state');\r\n    label.classList.remove(pluginPrefix+'-modal-cookie-input-switch');\r\n    input.remove();\r\n\r\n    // Load other categories if needed\r\n    if(config.performance) categoryList.innerHTML += localizeTemplate('category.html', 'cookie_performance', defaultChecked);\r\n    if(config.analytics) categoryList.innerHTML += localizeTemplate('category.html', 'cookie_analytics', defaultChecked);\r\n    if(config.marketing) categoryList.innerHTML += localizeTemplate('category.html', 'cookie_marketing', defaultChecked);\r\n\r\n    // Load click functions\r\n    setModalEventListeners();\r\n\r\n    // Update checkboxes based on stored info(if any)\r\n    if(currentCookieSelection) {\r\n      document.getElementById(pluginPrefix+'-cookie_performance').checked = currentCookieSelection.performance;\r\n      document.getElementById(pluginPrefix+'-cookie_analytics').checked = currentCookieSelection.analytics;\r\n      document.getElementById(pluginPrefix+'-cookie_marketing').checked = currentCookieSelection.marketing;\r\n    }\r\n\r\n    // Make sure modal is only loaded once\r\n    modalLoaded = true;\r\n  }\r\n\r\n  // Show modal window\r\n  function showModal() {\r\n    buildModal();\r\n    document.documentElement.classList.add(pluginPrefix+'-show-modal');\r\n  }\r\n\r\n  // Hide modal window\r\n  function hideModal() {\r\n    document.documentElement.classList.remove(pluginPrefix+'-show-modal');\r\n  }\r\n\r\n  // Click functions in the notice\r\n  function setNoticeEventListeners() {\r\n    var settingsButton = document.querySelectorAll('.'+pluginPrefix+'-nav-item-settings')[0];\r\n    var acceptButton = document.querySelectorAll('.'+pluginPrefix+'-nav-item-accept')[0];\r\n\r\n    settingsButton.addEventListener('click', function(e) {\r\n      e.preventDefault();\r\n      showModal();\r\n    });\r\n\r\n    acceptButton.addEventListener('click', function(e) {\r\n      e.preventDefault();\r\n      acceptCookies();\r\n    });\r\n\r\n  }\r\n\r\n  // Click functions in the modal\r\n  function setModalEventListeners() {\r\n    var closeButton = document.querySelectorAll('.'+pluginPrefix+'-modal-close')[0];\r\n    var statementButton = document.querySelectorAll('.'+pluginPrefix+'-modal-footer-item-statement')[0];\r\n    var categoryTitles = document.querySelectorAll('.'+pluginPrefix+'-modal-cookie-title');\r\n    var saveButton = document.querySelectorAll('.'+pluginPrefix+'-modal-footer-item-save')[0];\r\n\r\n    closeButton.addEventListener('click', function() {\r\n      hideModal();\r\n      return false;\r\n    });\r\n\r\n    statementButton.addEventListener('click', function(e) {\r\n      e.preventDefault();\r\n      window.location.href = config.statement;\r\n    });\r\n\r\n    for (var i = 0; i < categoryTitles.length; i++) {\r\n      categoryTitles[i].addEventListener('click', function() {\r\n        this.parentNode.parentNode.classList.toggle('open');\r\n        return false;\r\n      });\r\n    }\r\n\r\n    saveButton.addEventListener('click', function(e) {\r\n      e.preventDefault();\r\n      saveButton.classList.add('saved');\r\n      setTimeout(function(){\r\n        saveButton.classList.remove('saved');\r\n      }, 1000);\r\n      acceptCookies(true);\r\n    });\r\n\r\n  }\r\n\r\n  // Settings button on the page somewhere\r\n  var globalSettingsButton = document.querySelectorAll('.'+pluginPrefix+'-settings-button');\r\n  if(globalSettingsButton) {\r\n    for (var i = 0; i < globalSettingsButton.length; i++) {\r\n      globalSettingsButton[i].addEventListener('click', function(e) {\r\n        e.preventDefault();\r\n        showModal();\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  // Get document height\r\n  function getDocHeight() {\r\n    var D = document;\r\n    return Math.max(\r\n      D.body.scrollHeight, D.documentElement.scrollHeight,\r\n      D.body.offsetHeight, D.documentElement.offsetHeight,\r\n      D.body.clientHeight, D.documentElement.clientHeight\r\n    );\r\n  }\r\n\r\n  // Check if at least page is 25% scrolled down\r\n  function amountScrolled(){\r\n    var winheight= window.innerHeight || (document.documentElement || document.body).clientHeight;\r\n    var docheight = getDocHeight();\r\n    var scrollTop = window.pageYOffset || (document.documentElement || document.body.parentNode || document.body).scrollTop;\r\n    var trackLength = docheight - winheight;\r\n    var pctScrolled = Math.floor(scrollTop/trackLength * 100); // gets percentage scrolled (ie: 80 or NaN if tracklength == 0)\r\n    if(pctScrolled > 25 && !cookiesAccepted) {\r\n      cookiesAccepted = true;\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Accept cookies on scroll\r\n  function acceptOnScroll() {\r\n    window.addEventListener('scroll', function _listener() {\r\n      if(amountScrolled()) {\r\n        acceptCookies();\r\n        window.removeEventListener('click', _listener);\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","//Add strings\r\ngdprCookieNoticeLocales.en = {\r\n  description: 'We use cookies to offer you a better browsing experience, personalise content and ads, to provide social media features and to analyse our traffic. Read about how we use cookies and how you can control them by clicking Cookie Settings. You consent to our cookies if you continue to use this website.',\r\n  settings: 'Cookie settings',\r\n  accept: 'Accept cookies',\r\n  statement: 'Our cookie statement',\r\n  save: 'Save settings',\r\n  always_on: 'Always on',\r\n  cookie_essential_title: 'Essential website cookies',\r\n  cookie_essential_desc: 'Necessary cookies help make a website usable by enabling basic functions like page navigation and access to secure areas of the website. The website cannot function properly without these cookies.',\r\n  cookie_performance_title: 'Performance cookies',\r\n  cookie_performance_desc: 'These cookies are used to enhance the performance and functionality of our websites but are non-essential to their use. For example it stores your preferred language or the region that you are in.',\r\n  cookie_analytics_title: 'Analytics cookies',\r\n  cookie_analytics_desc: 'We use analytics cookies to help us measure how users interact with website content, which helps us customize our websites and application for you in order to enhance your experience.',\r\n  cookie_marketing_title: 'Marketing cookies',\r\n  cookie_marketing_desc: 'These cookies are used to make advertising messages more relevant to you and your interests. The intention is to display ads that are relevant and engaging for the individual user and thereby more valuable for publishers and third party advertisers.'\r\n}\r\n"]}